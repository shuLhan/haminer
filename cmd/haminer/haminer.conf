[haminer]
##
## Set default listen address in UDP.
##
## Format
##
##    listen = ADDR [ ":" PORT ]
##
## Default: 127.0.0.1:5140
##
## Examples
##
##    listen=127.0.0.1:5140
##    listen=192.168.56.1:5140
##

#listen=

##
## List of HAProxy backend to be accepted and forwarded to Influxdb.
## Each accept_backend can be listed multiple times.
##
## Format
##
##    accept_backend = <string>
##
## Default: "", no filter (all backend are accepted).
##
## Examples
##
##    accept_backend=api_01
##    accept_backend=api_02
##

#accept_backend=

##
## Parse HTTP request header in log file generated by "capture request header
## ..." option.
##
## Format
##
##    capture_request_header = <string>
##
## The name should contains only alphabets and underscore.
##
## Default: "" (empty)
##
## Examples
##
##    capture_request_header = host
##    capture_request_header = referrer
##

#capture_request_header=

##
## The endpoint for Influxdb HTTP API write, must include database name, and
## optional authentication in query parameters.
##
## Format
##
##    influxdb_api_write = http://<hostname|IP-address>:<port>/write?db=<influxdb-name>[&u=username][&p=password]
##
## Default: "", empty. If empty the log will not forwarded to Influxdb.
##
## Examples
##
##    influxdb_api_write=http://127.0.0.1:8086/write?db=haminer&u=haminer&p=haminer
##

#influxdb_api_write=

##
## Duration, in seconds, when the logs will be forwarded.
##
## Format
##
##    forward_interval = DIGIT "s"
##
## Default: "15s"
##
#forward_interval = 15s

##
## Pre-process tag by replacing its value using regular expression.
## Each pre-process rules is run from top to bottom, which means if we have
## two or more rules with the same key, the output of first pre-process will
## be used as an input for the second rule.
##
## Currently only accept "http_url" as the key.
##
## Format
##
##    TAG-NAME "=" regex "=>" replacement
##
## Examples
##
##    http_url = /uuid/\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12} => /uuid/-
##    http_url = /id/[0-9]+ => /id/-
##
## This will replace "/id/1000" with "/id/-" and/or
## "/uuid/e7282bca-73b3-48fc-9793-6446ea6ebff3" into "/uuid/-"
##
## If the order of key is wrong, you may get the unexpected output.
## For example,
##
##    http_url = /id/[0-9]+ => /id/-
##    http_url = /uuid/\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12} => /uuid/-
##
## Given URL with UUID that contains number at beginning,
##
##    /uuid/9845a0b4-f4c3-4600-af13-45b5b0e61630
##
## will result in "/uuid/-a0b4-f4c3-4600-af13-45b5b0e61630", not "/uuid/-" as
## you would expected.
##
## So, please be careful on how you define the rules.
##
[preprocess "tag"]
#http_url =
